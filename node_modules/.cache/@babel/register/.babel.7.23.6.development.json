{"{\"assumptions\":{},\"sourceRoot\":\"/Users/catfood/project-mongo-api-connectiontest/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/catfood/project-mongo-api-connectiontest\",\"filename\":\"/Users/catfood/project-mongo-api-connectiontest/server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/catfood/project-mongo-api-connectiontest\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.23.6:development":{"value":{"code":"import express from \"express\";\nimport cors from \"cors\";\nimport mongoose from \"mongoose\";\nimport listEndpoints from 'express-list-endpoints';\n\n// If you're using one of our datasets, uncomment the appropriate import below\n// to get started!\n// import avocadoSalesData from \"./data/avocado-sales.json\";\nimport booksData from \"./data/books.json\";\n// import goldenGlobesData from \"./data/golden-globes.json\";\n// import netflixData from \"./data/netflix-titles.json\";\n// import topMusicData from \"./data/top-music.json\";\n\nconst mongoUrl = process.env.MONGO_URL || \"mongodb://localhost/project-mongo\";\nconsole.log(`Connection to MongoDB using URL: ${mongoUrl}`);\nmongoose.connect(mongoUrl, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n}).then(() => console.log(\"MongoDB Connected\")).catch(err => console.error(\"MongoDB connection error:\", err));\nmongoose.Promise = Promise;\nconst Book = mongoose.model('Book', {\n  bookID: Number,\n  title: String,\n  authors: String,\n  average_rating: Number,\n  isbn: Number,\n  isbn13: Number,\n  language_code: String,\n  num_pages: Number,\n  ratings_count: Number,\n  text_reviews_count: Number\n});\nconst seedDatabase = async () => {\n  console.log(\"Starting database seeding...\");\n  await Book.deleteMany({});\n  console.log(\"Existing books deleted.\");\n\n  // booksData.forEach((bookData) => {\n  //   new Book(bookData).save()\n  // })\n\n  await Promise.all(booksData.map(bookData => new Book(bookData).save())).then(() => console.log(\"Database seeded successfully\")).catch(err => console.error(\"Error seeding database:\", err));\n};\nif (process.env.RESET_DATABASE == 'true') {\n  seedDatabase();\n}\n\n// Defines the port the app will run on. Defaults to 8080, but can be overridden\n// when starting the server. Example command to overwrite PORT env variable value:\n// PORT=9000 npm start..\nconst port = process.env.PORT || 8080;\nconst app = express();\n\n// Add middlewares to enable cors and json body parsing\napp.use(cors());\napp.use(express.json());\n\n// Start defining your routes here\napp.get(\"/\", (req, res) => {\n  res.json(listEndpoints(app));\n});\napp.get('/books', async (req, res) => {\n  try {\n    const books = await Book.find();\n    res.json(books);\n  } catch (error) {\n    res.status(400).json({\n      error: error.message\n    });\n  }\n});\napp.get('/books/:id', async (req, res) => {\n  // const id = req.params.id\n  // const book = booksData.find(b => b.bookID == id) // find book with id\n\n  try {\n    const book = await Book.findOne({\n      bookID: req.params.id\n    });\n    if (book) {\n      res.json(book);\n    } else {\n      res.status(404).send('there is no such thing like that');\n    }\n  } catch (error) {\n    res.status(500).json({\n      error: error.message\n    });\n  }\n});\n\n// Start the server\napp.listen(port, () => {\n  console.log(`Server running on http://localhost:${port}`);\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwiY29ycyIsIm1vbmdvb3NlIiwibGlzdEVuZHBvaW50cyIsImJvb2tzRGF0YSIsIm1vbmdvVXJsIiwicHJvY2VzcyIsImVudiIsIk1PTkdPX1VSTCIsImNvbnNvbGUiLCJsb2ciLCJjb25uZWN0IiwidXNlTmV3VXJsUGFyc2VyIiwidXNlVW5pZmllZFRvcG9sb2d5IiwidGhlbiIsImNhdGNoIiwiZXJyIiwiZXJyb3IiLCJQcm9taXNlIiwiQm9vayIsIm1vZGVsIiwiYm9va0lEIiwiTnVtYmVyIiwidGl0bGUiLCJTdHJpbmciLCJhdXRob3JzIiwiYXZlcmFnZV9yYXRpbmciLCJpc2JuIiwiaXNibjEzIiwibGFuZ3VhZ2VfY29kZSIsIm51bV9wYWdlcyIsInJhdGluZ3NfY291bnQiLCJ0ZXh0X3Jldmlld3NfY291bnQiLCJzZWVkRGF0YWJhc2UiLCJkZWxldGVNYW55IiwiYWxsIiwibWFwIiwiYm9va0RhdGEiLCJzYXZlIiwiUkVTRVRfREFUQUJBU0UiLCJwb3J0IiwiUE9SVCIsImFwcCIsInVzZSIsImpzb24iLCJnZXQiLCJyZXEiLCJyZXMiLCJib29rcyIsImZpbmQiLCJzdGF0dXMiLCJtZXNzYWdlIiwiYm9vayIsImZpbmRPbmUiLCJwYXJhbXMiLCJpZCIsInNlbmQiLCJsaXN0ZW4iXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9jYXRmb29kL3Byb2plY3QtbW9uZ28tYXBpLWNvbm5lY3Rpb250ZXN0LyIsInNvdXJjZXMiOlsic2VydmVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCI7XG5pbXBvcnQgY29ycyBmcm9tIFwiY29yc1wiO1xuaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xuaW1wb3J0IGxpc3RFbmRwb2ludHMgZnJvbSAnZXhwcmVzcy1saXN0LWVuZHBvaW50cydcblxuLy8gSWYgeW91J3JlIHVzaW5nIG9uZSBvZiBvdXIgZGF0YXNldHMsIHVuY29tbWVudCB0aGUgYXBwcm9wcmlhdGUgaW1wb3J0IGJlbG93XG4vLyB0byBnZXQgc3RhcnRlZCFcbi8vIGltcG9ydCBhdm9jYWRvU2FsZXNEYXRhIGZyb20gXCIuL2RhdGEvYXZvY2Fkby1zYWxlcy5qc29uXCI7XG5pbXBvcnQgYm9va3NEYXRhIGZyb20gXCIuL2RhdGEvYm9va3MuanNvblwiO1xuLy8gaW1wb3J0IGdvbGRlbkdsb2Jlc0RhdGEgZnJvbSBcIi4vZGF0YS9nb2xkZW4tZ2xvYmVzLmpzb25cIjtcbi8vIGltcG9ydCBuZXRmbGl4RGF0YSBmcm9tIFwiLi9kYXRhL25ldGZsaXgtdGl0bGVzLmpzb25cIjtcbi8vIGltcG9ydCB0b3BNdXNpY0RhdGEgZnJvbSBcIi4vZGF0YS90b3AtbXVzaWMuanNvblwiO1xuXG5jb25zdCBtb25nb1VybCA9IHByb2Nlc3MuZW52Lk1PTkdPX1VSTCB8fCBcIm1vbmdvZGI6Ly9sb2NhbGhvc3QvcHJvamVjdC1tb25nb1wiO1xuY29uc29sZS5sb2coYENvbm5lY3Rpb24gdG8gTW9uZ29EQiB1c2luZyBVUkw6ICR7bW9uZ29Vcmx9YClcbm1vbmdvb3NlLmNvbm5lY3QobW9uZ29VcmwsIHsgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLCB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWUgfSlcbiAgLnRoZW4oKCkgPT4gY29uc29sZS5sb2coXCJNb25nb0RCIENvbm5lY3RlZFwiKSlcbiAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmVycm9yKFwiTW9uZ29EQiBjb25uZWN0aW9uIGVycm9yOlwiLCBlcnIpKVxubW9uZ29vc2UuUHJvbWlzZSA9IFByb21pc2U7XG5cbmNvbnN0IEJvb2sgPSBtb25nb29zZS5tb2RlbCgnQm9vaycsIHtcbiAgYm9va0lEOiBOdW1iZXIsXG4gIHRpdGxlOiBTdHJpbmcsXG4gIGF1dGhvcnM6IFN0cmluZyxcbiAgYXZlcmFnZV9yYXRpbmc6IE51bWJlcixcbiAgaXNibjogTnVtYmVyLFxuICBpc2JuMTM6IE51bWJlcixcbiAgbGFuZ3VhZ2VfY29kZTogU3RyaW5nLFxuICBudW1fcGFnZXM6IE51bWJlcixcbiAgcmF0aW5nc19jb3VudDogTnVtYmVyLFxuICB0ZXh0X3Jldmlld3NfY291bnQ6IE51bWJlclxufSlcblxuY29uc3Qgc2VlZERhdGFiYXNlID0gYXN5bmMgKCkgPT4ge1xuICBjb25zb2xlLmxvZyhcIlN0YXJ0aW5nIGRhdGFiYXNlIHNlZWRpbmcuLi5cIilcbiAgYXdhaXQgQm9vay5kZWxldGVNYW55KHt9KVxuICBjb25zb2xlLmxvZyhcIkV4aXN0aW5nIGJvb2tzIGRlbGV0ZWQuXCIpXG5cbiAgLy8gYm9va3NEYXRhLmZvckVhY2goKGJvb2tEYXRhKSA9PiB7XG4gIC8vICAgbmV3IEJvb2soYm9va0RhdGEpLnNhdmUoKVxuICAvLyB9KVxuXG4gIGF3YWl0IFByb21pc2UuYWxsKGJvb2tzRGF0YS5tYXAoYm9va0RhdGEgPT4gbmV3IEJvb2soYm9va0RhdGEpLnNhdmUoKSkpXG4gIC50aGVuKCgpID0+IGNvbnNvbGUubG9nKFwiRGF0YWJhc2Ugc2VlZGVkIHN1Y2Nlc3NmdWxseVwiKSlcbiAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmVycm9yKFwiRXJyb3Igc2VlZGluZyBkYXRhYmFzZTpcIiwgZXJyKSlcbn1cblxuXG5pZiAocHJvY2Vzcy5lbnYuUkVTRVRfREFUQUJBU0UgPT0gJ3RydWUnKSB7XG4gIFxuICBzZWVkRGF0YWJhc2UoKVxufVxuXG4vLyBEZWZpbmVzIHRoZSBwb3J0IHRoZSBhcHAgd2lsbCBydW4gb24uIERlZmF1bHRzIHRvIDgwODAsIGJ1dCBjYW4gYmUgb3ZlcnJpZGRlblxuLy8gd2hlbiBzdGFydGluZyB0aGUgc2VydmVyLiBFeGFtcGxlIGNvbW1hbmQgdG8gb3ZlcndyaXRlIFBPUlQgZW52IHZhcmlhYmxlIHZhbHVlOlxuLy8gUE9SVD05MDAwIG5wbSBzdGFydC4uXG5jb25zdCBwb3J0ID0gcHJvY2Vzcy5lbnYuUE9SVCB8fCA4MDgwO1xuY29uc3QgYXBwID0gZXhwcmVzcygpO1xuXG4vLyBBZGQgbWlkZGxld2FyZXMgdG8gZW5hYmxlIGNvcnMgYW5kIGpzb24gYm9keSBwYXJzaW5nXG5hcHAudXNlKGNvcnMoKSk7XG5hcHAudXNlKGV4cHJlc3MuanNvbigpKTtcblxuLy8gU3RhcnQgZGVmaW5pbmcgeW91ciByb3V0ZXMgaGVyZVxuYXBwLmdldChcIi9cIiwgKHJlcSwgcmVzKSA9PiB7XG4gIHJlcy5qc29uKGxpc3RFbmRwb2ludHMoYXBwKSk7XG59KTtcblxuYXBwLmdldCgnL2Jvb2tzJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgYm9va3MgPSBhd2FpdCBCb29rLmZpbmQoKVxuICAgIHJlcy5qc29uKGJvb2tzKVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSlcbiAgfVxufSlcblxuYXBwLmdldCgnL2Jvb2tzLzppZCcsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAvLyBjb25zdCBpZCA9IHJlcS5wYXJhbXMuaWRcbiAgLy8gY29uc3QgYm9vayA9IGJvb2tzRGF0YS5maW5kKGIgPT4gYi5ib29rSUQgPT0gaWQpIC8vIGZpbmQgYm9vayB3aXRoIGlkXG5cbiAgXG4gIHRyeSB7XG4gICAgY29uc3QgYm9vayA9IGF3YWl0IEJvb2suZmluZE9uZSh7IGJvb2tJRDogcmVxLnBhcmFtcy5pZCB9KVxuICAgIGlmIChib29rKSB7XG4gICAgICByZXMuanNvbihib29rKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCgndGhlcmUgaXMgbm8gc3VjaCB0aGluZyBsaWtlIHRoYXQnKVxuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiBlcnJvci5tZXNzYWdlIH0pXG4gIH1cbn0pXG5cbi8vIFN0YXJ0IHRoZSBzZXJ2ZXJcbmFwcC5saXN0ZW4ocG9ydCwgKCkgPT4ge1xuICBjb25zb2xlLmxvZyhgU2VydmVyIHJ1bm5pbmcgb24gaHR0cDovL2xvY2Fs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","map":{"version":3,"names":["express","cors","mongoose","listEndpoints","booksData","mongoUrl","process","env","MONGO_URL","console","log","connect","useNewUrlParser","useUnifiedTopology","then","catch","err","error","Promise","Book","model","bookID","Number","title","String","authors","average_rating","isbn","isbn13","language_code","num_pages","ratings_count","text_reviews_count","seedDatabase","deleteMany","all","map","bookData","save","RESET_DATABASE","port","PORT","app","use","json","get","req","res","books","find","status","message","book","findOne","params","id","send","listen"],"sourceRoot":"/Users/catfood/project-mongo-api-connectiontest/","sources":["server.js"],"sourcesContent":["import express from \"express\";\nimport cors from \"cors\";\nimport mongoose from \"mongoose\";\nimport listEndpoints from 'express-list-endpoints'\n\n// If you're using one of our datasets, uncomment the appropriate import below\n// to get started!\n// import avocadoSalesData from \"./data/avocado-sales.json\";\nimport booksData from \"./data/books.json\";\n// import goldenGlobesData from \"./data/golden-globes.json\";\n// import netflixData from \"./data/netflix-titles.json\";\n// import topMusicData from \"./data/top-music.json\";\n\nconst mongoUrl = process.env.MONGO_URL || \"mongodb://localhost/project-mongo\";\nconsole.log(`Connection to MongoDB using URL: ${mongoUrl}`)\nmongoose.connect(mongoUrl, { useNewUrlParser: true, useUnifiedTopology: true })\n  .then(() => console.log(\"MongoDB Connected\"))\n  .catch(err => console.error(\"MongoDB connection error:\", err))\nmongoose.Promise = Promise;\n\nconst Book = mongoose.model('Book', {\n  bookID: Number,\n  title: String,\n  authors: String,\n  average_rating: Number,\n  isbn: Number,\n  isbn13: Number,\n  language_code: String,\n  num_pages: Number,\n  ratings_count: Number,\n  text_reviews_count: Number\n})\n\nconst seedDatabase = async () => {\n  console.log(\"Starting database seeding...\")\n  await Book.deleteMany({})\n  console.log(\"Existing books deleted.\")\n\n  // booksData.forEach((bookData) => {\n  //   new Book(bookData).save()\n  // })\n\n  await Promise.all(booksData.map(bookData => new Book(bookData).save()))\n  .then(() => console.log(\"Database seeded successfully\"))\n  .catch(err => console.error(\"Error seeding database:\", err))\n}\n\n\nif (process.env.RESET_DATABASE == 'true') {\n  \n  seedDatabase()\n}\n\n// Defines the port the app will run on. Defaults to 8080, but can be overridden\n// when starting the server. Example command to overwrite PORT env variable value:\n// PORT=9000 npm start..\nconst port = process.env.PORT || 8080;\nconst app = express();\n\n// Add middlewares to enable cors and json body parsing\napp.use(cors());\napp.use(express.json());\n\n// Start defining your routes here\napp.get(\"/\", (req, res) => {\n  res.json(listEndpoints(app));\n});\n\napp.get('/books', async (req, res) => {\n  try {\n    const books = await Book.find()\n    res.json(books)\n  } catch (error) {\n    res.status(400).json({ error: error.message })\n  }\n})\n\napp.get('/books/:id', async (req, res) => {\n  // const id = req.params.id\n  // const book = booksData.find(b => b.bookID == id) // find book with id\n\n  \n  try {\n    const book = await Book.findOne({ bookID: req.params.id })\n    if (book) {\n      res.json(book)\n    } else {\n      res.status(404).send('there is no such thing like that')\n    }\n  } catch (error) {\n    res.status(500).json({ error: error.message })\n  }\n})\n\n// Start the server\napp.listen(port, () => {\n  console.log(`Server running on http://localhost:${port}`);\n});\n"],"mappings":"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"}},"mtime":1702721915047}}